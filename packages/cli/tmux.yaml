name: tmux
version: 3.5a
description: Terminal multiplexer for managing multiple terminal sessions.
homepage: https://github.com/tmux/tmux
license: ISC
maintainer: tmux-community
updated_at: 2025-02-25T00:00:00Z
tags:
  - cli
  - terminal
  - multiplexer
install:
  source:
    type: git
    url: https://github.com/tmux/tmux.git
    ref: master
  steps:
    - git clone --branch tmux-3.5a --single-branch https://github.com/tmux/tmux.git .
    - sh autogen.sh
    - ./configure
    - make
    - mkdir -p man/man1
    - cp tmux.1 man/man1/
  binaries:
    - tmux
  man:
    - man/man1/tmux.1
  additional-config:
    - filename: config.sh
      content: |
        #!/usr/bin/env bash

        BASE_PATH=$(grep 'base:' "$HOME/.config/clipack/config.yaml" | sed 's/.*base: //')

        if [ -z "$THEME" ]; then
            THEME="LvimDark"
        fi

        export TMUX_CONF="$BASE_PATH/configs/tmux/tmux.conf"
        alias tmux="$BASE_PATH/bin/tmux -f $TMUX_CONF"
        # export TMUX_PLUGIN_MANAGER_PATH="$BASE_PATH/configs/tmux/plugins"
        export TMUX_PLUGIN_MANAGER_PATH="~/.tmux/plugins"

        alias tm="tmux attach -t SYSTEM || tmux new -s SYSTEM"
        alias ta="tmux a -t SYSTEM"
        alias tn="tmux new-session"

        if [ -n "$TMUX" ]; then
            tmux source-file "$BASE_PATH/configs/tmux/$THEME.conf"
            tmux source-file "$BASE_PATH/configs/tmux/tmux.conf"
        fi
    - filename: .tmux.conf
      content: |
          # ==========================
          # ===  General settings  ===
          # ==========================

          set -g default-shell "/bin/zsh"
          set -g default-terminal "kitty"
          set -ag terminal-overrides ",kitty:Tc"
          set-option -g focus-events on
          set -g history-limit 20000
          set -g buffer-limit 20
          set -sg escape-time 0
          set -g display-time 1500
          set -g remain-on-exit off
          set -g repeat-time 300
          setw -g allow-rename off
          setw -g automatic-rename off
          setw -g aggressive-resize on
          set -sa terminal-overrides ',*:Smulx=\E[4::%p1%dm'
          set -sa terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'
          set -g set-titles on
          set -g set-titles-string "#I:#W"
          set -g base-index 1
          setw -g pane-base-index 1
          set -g mouse on

          # ==========================
          # ===   Key bindings     ===
          # ==========================

          unbind "\$"     # rename-session
          unbind ,        # rename-window
          unbind %        # split-window -h
          unbind '"'      # split-window
          unbind \}       # swap-pane -D
          unbind \{       # swap-pane -U
          unbind [        # paste-buffer
          unbind ]
          unbind "'"      # select-window
          unbind n        # next-window
          unbind p        # previous-window
          unbind l        # last-window
          unbind y
          unbind M-n      # next window with alert
          unbind M-p      # next window with alert
          unbind o        # focus thru panes
          unbind &        # kill-window
          unbind "#"      # list-buffer
          unbind =        # choose-buffer
          unbind z        # zoom-pane
          unbind M-Up     # resize 5 rows up
          unbind M-Down   # resize 5 rows down
          unbind M-Right  # resize 5 rows right
          unbind M-Left   # resize 5 rows left
          unbind-key -T root MouseDown3Pane

          # Edit configuration and reload
          bind C-e new-window -n 'tmux.conf' "sh -c '\${EDITOR:-vim} ~/clipack/configs/tmux/.tmux.conf && tmux source ~/clipack/configs/tmux/.tmux.conf && tmux display \"Config reloaded\"'"

          # Reload tmux configuration
          bind M-r source-file ~/.tmux.conf \; display "Config reloaded"

          # new window and retain cwd
          bind c new-window -c "#{pane_current_path}"

          # Rename session and window
          bind r command-prompt -I "#{window_name}" "rename-window '%%'"
          bind R command-prompt -I "#{session_name}" "rename-session '%%'"

          # Split panes
          bind h split-window -h -c "#{pane_current_path}"
          bind v split-window -v -c "#{pane_current_path}"

          # Select pane and windows
          bind -r C-j previous-window
          bind -r C-k next-window
          bind -r Tab last-window
          bind -r C-o swap-pane -D

          # Move
          is_vim="ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|l?n?vim?x?)(diff)?$'"
          bind-key -n 'C-h' if-shell "$is_vim" 'send-keys C-h'  'select-pane -L'
          bind-key -n 'C-j' if-shell "$is_vim" 'send-keys C-j'  'select-pane -D'
          bind-key -n 'C-k' if-shell "$is_vim" 'send-keys C-k'  'select-pane -U'
          bind-key -n 'C-l' if-shell "$is_vim" 'send-keys C-l'  'select-pane -R'
          tmux_version='$(tmux -V | sed -En "s/^tmux ([0-9]+(.[0-9]+)?).*/\1/p")'
          if-shell -b '[ "$(echo "$tmux_version < 3.0" | bc)" = 1 ]' \
              "bind-key -n 'C-\\' if-shell \"$is_vim\" 'send-keys C-\\'  'select-pane -l'"
          if-shell -b '[ "$(echo "$tmux_version >= 3.0" | bc)" = 1 ]' \
              "bind-key -n 'C-\\' if-shell \"$is_vim\" 'send-keys C-\\\\'  'select-pane -l'"

          bind-key -T copy-mode-vi 'C-h' select-pane -L
          bind-key -T copy-mode-vi 'C-j' select-pane -D
          bind-key -T copy-mode-vi 'C-k' select-pane -U
          bind-key -T copy-mode-vi 'C-l' select-pane -R
          bind-key -T copy-mode-vi 'C-\' select-pane -l

          # Zoom pane
          bind + resize-pane -Z

          # Link window
          bind L command-prompt -p "Link window from (session:window): " "link-window -s %% -a"

          # Swap panes back and forth with 1st pane
          # When in main-(horizontal|vertical) layouts, the biggest/widest panel is always @1
          bind \\ if '[ #{pane_index} -eq 1 ]' \
              'swap-pane -s "!"' \
              'select-pane -t:.1 ; swap-pane -d -t 1 -s "!"'

          # Kill pane/window/session shortcuts
          bind L command-prompt -p "Link window from (session:window): " "link-window -s %% -a"

          # Kill pane/window/session shortcuts
          bind x kill-pane
          bind X kill-window
          bind C-x confirm-before -p "kill other windows? (y/n)" "kill-window -a"
          bind Q confirm-before -p "kill-session #S? (y/n)" kill-session

          # Merge session with another one (e.g. move all windows)
          # If you use adhoc 1-window sessions, and you want to preserve session upon exit
          # but don't want to create a lot of small unnamed 1-window sessions around
          # move all windows from current session to main named one (dev, work, etc)
          bind C-u command-prompt -p "Session to merge with: " \
            "run-shell 'yes | head -n #{session_windows} | xargs -I {} -n 1 tmux movew -t %%'"

          # Detach from session
          bind d detach
          bind D if -F '#{session_many_attached}' \
              'confirm-before -p "Detach other clients? (y/n)" "detach -a"' \
              'display "Session has only 1 client attached"'

          # Hide status bar on demand
          bind C-b if -F '#{s/off//:status}' 'set status off' 'set status on'

          # ==================================================
          # === Window monitoring for activity and silence ===
          # ==================================================
          bind m setw monitor-activity \; display-message 'Monitor window activity [#{?monitor-activity,ON,OFF}]'
          bind M if -F '#{monitor-silence}' \
              'setw monitor-silence 0 ; display-message "Monitor window silence [OFF]"' \
              'command-prompt -p "Monitor silence: interval (s)" "setw monitor-silence %%"'

          # Activity bell and whistles
          set -g visual-activity on

          # TODO: Does not work as well, check on newer versions
          # set -g visual-silence on

          # BUG: bell-action other ignored · Issue #1027 · tmux/tmux · GitHub - https://github.com/tmux/tmux/issues/1027
          # set -g visual-bell on
          # setw -g bell-action other

          # ================================================
          # ===     Copy mode, scroll and clipboard      ===
          # ================================================

          # Prefer vi style key table
          setw -g mode-keys vi

          # Trigger copy mode by
          bind M-y copy-mode
          set-option -s set-clipboard off
          bind p paste-buffer
          bind-key -T copy-mode-vi v send-keys -X begin-selection
          bind-key -T copy-mode-vi y send-keys -X rectangle-toggle
          unbind -T copy-mode-vi Enter
          bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'xclip -se c -i'
          bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'xclip -se c -i'
          set -g @yank_action 'copy-pipe-no-clear'
          bind -T copy-mode    C-c send -X copy-pipe-no-clear "xsel -i --clipboard"
          bind -T copy-mode-vi C-c send -X copy-pipe-no-clear "xsel -i --clipboard"

          # ============================
          # ===       Plugins        ===
          # ============================
          set -g @plugin 'tmux-plugins/tpm'
          set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
          set -g @plugin 'tmux-plugins/tmux-online-status'
          set -g @plugin 'tmux-plugins/tmux-copycat'
          set -g @plugin 'tmux-plugins/tmux-open'
          set -g @plugin 'samoshkin/tmux-plugin-sysstat'
          set -g @plugin 'tmux-plugins/tmux-yank'
          set -g @plugin 'tmux-plugins/tmux-resurrect'
          set -g @plugin 'tmux-plugins/tmux-continuum'
          set -g @plugin 'sainnhe/tmux-fzf'
          set -g @plugin 'wfxr/tmux-fzf-url'
          set -g @plugin 'sturob/tmux-teleport'

          # Run all plugins' scripts
          run '~/.tmux/plugins/tpm/tpm'
    - filename: LvimDark.conf
      content: |
        set -g mode-style "fg=#1c2125,bg=#ff9010"

        set -g message-style "fg=#1c7060,bg=#181d1f"

        set -g status-style "fg=#0974a1,bg=#181d1f"

        setw -g window-status-style "fg=#8AA55F,bold,bg=#181d1f"
        setw -g window-status-format " #I:#W "
        setw -g window-status-current-style "fg=#1c2125,bold,bg=#8AA55F"
        setw -g window-status-current-format " #I:#W "

        setw -g window-status-activity-style "fg=#ff9010"

        setw -g pane-border-style "fg=#7d9654"
        setw -g pane-active-border-style "fg=#7d9654"

        set -g status on
        set -g status-interval 5
        set -g status-position bottom
        set -g status-justify left
        set -g status-right-length 100

        wg_session="#[bg=#8AA55F,bold,fg=#1c2125] #S #[default]"
        wg_user_host="#[bg=#181d1f,bold,fg=#e65e4f] #(whoami)@#H"
        wg_is_zoomed="#[fg=#181d1f,bg=#e65e4f]#{?window_zoomed_flag, ZOOM ,}#[default]"
        wg_is_keys_off="#[fg=#1c2125,bg=#e65e4f]#([ $(tmux show-option -qv key-table) = 'off' ] && echo ' KEYS OFF ')#[default]"
        wg_date="#[bg=#8AA55F,bold,fg=#1c2125] %h %d %H:%M #[default]"

        set -g status-left "$wg_session"
        set -g status-right "#{prefix_highlight} $wg_is_keys_off $wg_is_zoomed #{sysstat_cpu} | #{sysstat_mem} $wg_user_host #{online_status} $wg_date"

        set -g @online_icon "#[fg=#8AA55F]●#[default]"
        set -g @offline_icon "#[fg=#e34a39]●#[default]"

        set -g @sysstat_mem_view_tmpl 'MEM:#[fg=#{mem.color}]#{mem.pused}#[default] #{mem.used}'

        set -g @sysstat_cpu_color_low "#8AA55F"
        set -g @sysstat_cpu_color_medium "#FF9C2A"
        set -g @sysstat_cpu_color_stress "#e34a39"

        set -g @sysstat_mem_color_low "#8AA55F"
        set -g @sysstat_mem_color_medium "#FF9C2A"
        set -g @sysstat_mem_color_stress "#e34a39"

        set -g @prefix_highlight_output_prefix '['
        set -g @prefix_highlight_output_suffix ']'
        set -g @prefix_highlight_fg "#e65e4f,bold"
        set -g @prefix_highlight_bg "#1c2125"
        set -g @prefix_highlight_show_copy_mode 'on'
        set -g @prefix_highlight_copy_mode_attr "fg=#e65e4f,bold,bg=#181d1f"
    - filename: LvimDarker.conf
      content: |
        set -g mode-style "fg=#181c1f,bg=#ff9010"

        set -g message-style "fg=#1c7060,bg=#141819"

        set -g status-style "fg=#0974a1,bg=#141819"

        setw -g window-status-style "fg=#8AA55F,bold,bg=#141819"
        setw -g window-status-format " #I:#W "
        setw -g window-status-current-style "fg=#181c1f,bold,bg=#8AA55F"
        setw -g window-status-current-format " #I:#W "

        setw -g window-status-activity-style "fg=#ff9010"

        setw -g pane-border-style "fg=#7d9654"
        setw -g pane-active-border-style "fg=#7d9654"

        set -g status on
        set -g status-interval 5
        set -g status-position bottom
        set -g status-justify left
        set -g status-right-length 100

        wg_session="#[bg=#8AA55F,bold,fg=#181c1f] #S #[default]"
        wg_user_host="#[bg=#141819,bold,fg=#e65e4f] #(whoami)@#H"
        wg_is_zoomed="#[fg=#141819,bg=#e65e4f]#{?window_zoomed_flag, ZOOM ,}#[default]"
        wg_is_keys_off="#[fg=#181c1f,bg=#e65e4f]#([ $(tmux show-option -qv key-table) = 'off' ] && echo ' KEYS OFF ')#[default]"
        wg_date="#[bg=#8AA55F,bold,fg=#181c1f] %h %d %H:%M #[default]"

        set -g status-left "$wg_session"
        set -g status-right "#{prefix_highlight} $wg_is_keys_off $wg_is_zoomed #{sysstat_cpu} | #{sysstat_mem} $wg_user_host #{online_status} $wg_date"

        set -g @online_icon "#[fg=#8AA55F]●#[default]"
        set -g @offline_icon "#[fg=#e34a39]●#[default]"

        set -g @sysstat_mem_view_tmpl 'MEM:#[fg=#{mem.color}]#{mem.pused}#[default] #{mem.used}'

        set -g @sysstat_cpu_color_low "#8AA55F"
        set -g @sysstat_cpu_color_medium "#FF9C2A"
        set -g @sysstat_cpu_color_stress "#e34a39"

        set -g @sysstat_mem_color_low "#8AA55F"
        set -g @sysstat_mem_color_medium "#FF9C2A"
        set -g @sysstat_mem_color_stress "#e34a39"

        set -g @prefix_highlight_output_prefix '['
        set -g @prefix_highlight_output_suffix ']'
        set -g @prefix_highlight_fg "#e65e4f,bold"
        set -g @prefix_highlight_bg "#181c1f"
        set -g @prefix_highlight_show_copy_mode 'on'
        set -g @prefix_highlight_copy_mode_attr "fg=#e65e4f,bold,bg=#141819"
    - filename: LvimKanagawa.conf
      content: |
        set -g mode-style "fg=#1b1c21,bg=#c68f58"

        set -g message-style "fg=#4b869b,bg=#17181c"

        set -g status-style "fg=#4a6494,bg=#17181c"

        setw -g window-status-style "fg=#6e8156,bold,bg=#17181c"
        setw -g window-status-format " #I:#W "
        setw -g window-status-current-style "fg=#1b1c21,bold,bg=#6e8156"
        setw -g window-status-current-format " #I:#W "

        setw -g window-status-activity-style "fg=#c68f58"

        setw -g pane-border-style "fg=#697b52"
        setw -g pane-active-border-style "fg=#697b52"

        set -g status on
        set -g status-interval 5
        set -g status-position bottom
        set -g status-justify left
        set -g status-right-length 100

        wg_session="#[bg=#6e8156,bold,fg=#1b1c21] #S #[default]"
        wg_user_host="#[bg=#17181c,bold,fg=#b65252] #(whoami)@#H"
        wg_is_zoomed="#[fg=#17181c,bg=#b65252]#{?window_zoomed_flag, ZOOM ,}#[default]"
        wg_is_keys_off="#[fg=#1b1c21,bg=#b65252]#([ $(tmux show-option -qv key-table) = 'off' ] && echo ' KEYS OFF ')#[default]"
        wg_date="#[bg=#6e8156,bold,fg=#1b1c21] %h %d %H:%M #[default]"

        set -g status-left "$wg_session"
        set -g status-right "#{prefix_highlight} $wg_is_keys_off $wg_is_zoomed #{sysstat_cpu} | #{sysstat_mem} $wg_user_host #{online_status} $wg_date"

        set -g @online_icon "#[fg=#6e8156]●#[default]"
        set -g @offline_icon "#[fg=#b24b4b]●#[default]"

        set -g @sysstat_mem_view_tmpl 'MEM:#[fg=#{mem.color}]#{mem.pused}#[default] #{mem.used}'

        set -g @sysstat_cpu_color_low "#6e8156"
        set -g @sysstat_cpu_color_medium "#c99460"
        set -g @sysstat_cpu_color_stress "#b24b4b"

        set -g @sysstat_mem_color_low "#6e8156"
        set -g @sysstat_mem_color_medium "#c99460"
        set -g @sysstat_mem_color_stress "#b24b4b"

        set -g @prefix_highlight_output_prefix '['
        set -g @prefix_highlight_output_suffix ']'
        set -g @prefix_highlight_fg "#b65252,bold"
        set -g @prefix_highlight_bg "#1b1c21"
        set -g @prefix_highlight_show_copy_mode 'on'
        set -g @prefix_highlight_copy_mode_attr "fg=#b65252,bold,bg=#17181c"
    - filename: LvimLight.conf
      content: |
        set -g mode-style "fg=#dfdfdf,bg=#b66400"

        set -g message-style "fg=#2a9b86,bg=#dadada"

        set -g status-style "fg=#0d8abf,bg=#dadada"

        setw -g window-status-style "fg=#748c50,bold,bg=#dadada"
        setw -g window-status-format " #I:#W "
        setw -g window-status-current-style "fg=#dfdfdf,bold,bg=#748c50"
        setw -g window-status-current-format " #I:#W "

        setw -g window-status-activity-style "fg=#b66400"

        setw -g pane-border-style "fg=#556738"
        setw -g pane-active-border-style "fg=#556738"

        set -g status on
        set -g status-interval 5
        set -g status-position bottom
        set -g status-justify left
        set -g status-right-length 100

        wg_session="#[bg=#748c50,bold,fg=#dfdfdf] #S #[default]"
        wg_user_host="#[bg=#dadada,bold,fg=#ac4135] #(whoami)@#H"
        wg_is_zoomed="#[fg=#dadada,bg=#ac4135]#{?window_zoomed_flag, ZOOM ,}#[default]"
        wg_is_keys_off="#[fg=#dfdfdf,bg=#ac4135]#([ $(tmux show-option -qv key-table) = 'off' ] && echo ' KEYS OFF ')#[default]"
        wg_date="#[bg=#748c50,bold,fg=#dfdfdf] %h %d %H:%M #[default]"

        set -g status-left "$wg_session"
        set -g status-right "#{prefix_highlight} $wg_is_keys_off $wg_is_zoomed #{sysstat_cpu} | #{sysstat_mem} $wg_user_host #{online_status} $wg_date"

        set -g @online_icon "#[fg=#748c50]●#[default]"
        set -g @offline_icon "#[fg=#c53f30]●#[default]"

        set -g @sysstat_mem_view_tmpl 'MEM:#[fg=#{mem.color}]#{mem.pused}#[default] #{mem.used}'

        set -g @sysstat_cpu_color_low "#748c50"
        set -g @sysstat_cpu_color_medium "#a96400"
        set -g @sysstat_cpu_color_stress "#c53f30"

        set -g @sysstat_mem_color_low "#748c50"
        set -g @sysstat_mem_color_medium "#a96400"
        set -g @sysstat_mem_color_stress "#c53f30"

        set -g @prefix_highlight_output_prefix '['
        set -g @prefix_highlight_output_suffix ']'
        set -g @prefix_highlight_fg "#ac4135,bold"
        set -g @prefix_highlight_bg "#dfdfdf"
        set -g @prefix_highlight_show_copy_mode 'on'
        set -g @prefix_highlight_copy_mode_attr "fg=#ac4135,bold,bg=#dadada"
